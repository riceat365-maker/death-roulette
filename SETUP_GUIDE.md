# ローカル環境でのセットアップガイド

## 📋 前提条件

### 1. Node.jsのインストール確認

PowerShellまたはコマンドプロンプトで以下を実行：

```powershell
node --version
npm --version
```

**Node.jsがインストールされていない場合：**
1. [Node.js公式サイト](https://nodejs.org/) にアクセス
2. LTS版（推奨版）をダウンロードしてインストール
3. インストール後、PowerShellを再起動して確認

**必要なバージョン：**
- Node.js: v18以上
- npm: v9以上

---

## 🚀 セットアップ手順

### ステップ1: プロジェクトディレクトリに移動

PowerShellを開き、以下のコマンドでプロジェクトディレクトリに移動します：

```powershell
cd "C:\Users\caree\Downloads\イカゲーム"
```

**注意**: パスに日本語が含まれている場合、PowerShellで文字化けする可能性があります。その場合は、エクスプローラーでフォルダを開き、アドレスバーに「powershell」と入力してEnterキーを押すと、そのフォルダでPowerShellが開きます。

### ステップ2: 依存関係のインストール

以下のコマンドで、必要なパッケージをインストールします：

```powershell
npm install
```

**実行時間**: 初回は1〜3分程度かかります。

**正常に完了すると：**
- `node_modules` フォルダが作成されます
- `package-lock.json` ファイルが生成されます

**エラーが発生した場合：**
- インターネット接続を確認
- `npm cache clean --force` を実行してから再試行
- Node.jsのバージョンを確認（v18以上が必要）

### ステップ3: 開発サーバーの起動

以下のコマンドで開発サーバーを起動します：

```powershell
npm run dev
```

**正常に起動すると：**
```
  VITE v5.0.8  ready in XXX ms

  ➜  Local:   http://localhost:5173/
  ➜  Network: use --host to expose
```

### ステップ4: ブラウザで確認

1. ブラウザ（Chrome、Edge、Firefoxなど）を開く
2. アドレスバーに以下を入力：
   ```
   http://localhost:5173
   ```
3. 「DEATH ROULETTE」の画面が表示されれば成功です！

---

## 🎮 アプリの使い方

### 基本的な操作

1. **プレイヤー登録**
   - 上部の入力欄にプレイヤー名を入力
   - 「追加」ボタンをクリック
   - 最低2人、最大12人まで登録可能

2. **ルーレット開始**
   - 「だるまさんがころんだ」ボタンをクリック
   - ヨンヒ人形が回転し、ランダムなプレイヤーを指して止まります

3. **罰ゲーム表示**
   - 選択されたプレイヤーに「ELIMINATED」マークが表示
   - 罰ゲームの内容がダイアログで表示されます

4. **リセット**
   - 「リセット」ボタンで全プレイヤーの状態をリセット

---

## 🔧 トラブルシューティング

### 問題1: `npm install` が失敗する

**解決方法：**
```powershell
# npmキャッシュをクリア
npm cache clean --force

# 再度インストール
npm install
```

### 問題2: ポート5173が既に使用されている

**エラーメッセージ：**
```
Error: listen EADDRINUSE: address already in use :::5173
```

**解決方法：**
1. 他のターミナルで `npm run dev` が実行されていないか確認
2. 実行中の場合は、そのターミナルで `Ctrl + C` で停止
3. または、別のポートを使用：
   ```powershell
   npm run dev -- --port 3000
   ```

### 問題3: ブラウザで画面が真っ白

**確認事項：**
1. 開発サーバーが正常に起動しているか確認
2. ブラウザのコンソール（F12キー）でエラーを確認
3. 以下のコマンドで再ビルド：
   ```powershell
   npm run build
   npm run preview
   ```

### 問題4: 画像が表示されない

**原因：**
- インターネット接続が必要です（ヨンヒ人形の画像は外部URLから読み込まれます）

**解決方法：**
- インターネット接続を確認
- 画像URLがアクセス可能か確認

### 問題5: Gemini APIのエラー

**エラーメッセージ：**
```
Error generating penalty
```

**解決方法：**
- APIキーが設定されていない場合、デフォルトの罰ゲームが使用されます
- これは正常な動作です。APIキーを設定したい場合は、`.env` ファイルを作成：
  ```env
  VITE_GEMINI_API_KEY=your_api_key_here
  ```

---

## 📝 便利なコマンド一覧

### 開発サーバーの起動
```powershell
npm run dev
```

### 本番用ビルド
```powershell
npm run build
```

### ビルド結果のプレビュー
```powershell
npm run preview
```

### リンターの実行
```powershell
npm run lint
```

---

## 🛑 開発サーバーの停止

開発サーバーを停止するには、PowerShellで：
```
Ctrl + C
```
を押します。

---

## 💡 ヒント

1. **ホットリロード**: コードを変更すると、ブラウザが自動的に更新されます
2. **コンソール確認**: ブラウザの開発者ツール（F12）でエラーを確認できます
3. **レスポンシブ確認**: ブラウザの開発者ツールでスマホ表示を確認できます（F12 → デバイスツールバー）

---

## 📞 さらなるサポート

問題が解決しない場合：
1. エラーメッセージをコピー
2. ブラウザのコンソール（F12）のエラーを確認
3. Node.jsとnpmのバージョンを確認

---

**準備完了！楽しんでください！🎮**

